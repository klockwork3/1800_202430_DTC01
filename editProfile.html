<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>CheckMate Profile</title>
      <!-- Bootstrap Library CSS CDN go here -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>

      <style>
            .custom-start {
                  left: 67% !important;
                  visibility: hidden;
            }
      </style>
      <link rel="stylesheet" href="./styles/style.css">

      <!-------------------------------------------------------->
      <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
      <!-------------------------------------------------------->

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
      <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

</head>


<!-- Content Starts Here -->

<body class="bg-light">
      <div class="container d-flex justify-content-center align-items-center vh-100">
            <div class="card p-4 shadow-lg" style="width: 100%; max-width: 500px;">

                  <div class="text-start mb-3">
                        <button class="btn btn-outline-primary" onclick="confirmCancel()">
                              ‚Üê Back
                        </button>

                  </div>

                  <h3 class="text-center fw-bold mb-4">Edit Settings</h3>


                  <div id="updateAlert" class="alert alert-success d-none" role="alert">
                        Settings updated successfully! Redirecting to profile...
                  </div>


                  <form id="profileForm">


                        <div class="mb-3">
                              <label class="form-label">Profile Picture</label>
                              <div class="avatar-options-container">
                                    <img src="/images/avatar-icons/bear.png" class="avatar-option"
                                          data-avatar="bear.png" onclick="selectAvatar(this)">
                                    <img src="/images/avatar-icons/farmer.png" class="avatar-option"
                                          data-avatar="farmer.png" onclick="selectAvatar(this)">
                                    <img src="/images/avatar-icons/wizard.png" class="avatar-option"
                                          data-avatar="wizard.png" onclick="selectAvatar(this)">
                              </div>
                              <input type="hidden" id="selectedAvatar" name="avatar">
                        </div>


                        <div class="mb-3">
                              <label for="displayNameChange" class="form-label">Display Name</label>
                              <input class="form-control" id="displayNameChange" aria-describedby="emailHelp">
                              <div id="displayNameHelp" class="form-text">you can call yourself whatever you want!</div>
                        </div>

                        <div class="mb-3">
                              <label for="pronounSelect" class="form-label">Pronouns</label>
                              <select id="pronounSelect" class="form-select">
                                    <option>she/her/hers</option>
                                    <option>he/him/his</option>
                                    <option>they/them</option>
                                    <option>n/a</option>
                              </select>
                        </div>

                        <div class="form-group">
                              <label for="bioArea">Bio</label>
                              <textarea class="form-control" id="bioArea" rows="3"></textarea>
                        </div>
                        <br>
                        <button type="submit" id="submit" class="btn btn-primary">Submit</button>
                        <button type="button" class="btn btn-outline-secondary ms-2"
                              onclick="confirmCancel()">Cancel</button>

                  </form>
            </div>
      </div>


      <div id="nav-placeholder"></div>



      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>


      <!-- js script -->
      <script src="/scripts/script.js"></script>
      <script src="/scripts/nav.js"></script>
      <script src="/scripts/firebaseAPI_DTC01.js"></script>
      <script src="/scripts/fetchProfile.js"></script>
      <script src="/scripts/updateProfile.js"></script>

      <script>
            function confirmCancel() {
                  if (confirm("Are you sure you want to discard your changes and go back?")) {
                        history.back();
                  }
            }
      </script>


</body>

</html>